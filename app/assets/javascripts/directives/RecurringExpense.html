<div class="container">
	<p class="main" animation-create="zoomIn" ng-model="showDetails" ng-init="showDetails = false" ng-click="showDetails = !showDetails">
		<span class="type">{{ getTypeString(expense.type) }}</span>
		<i class="fa {{ expense.category.icon }}"></i>
		<span class="amount">{{ expense.amount |  number:2 }}</span>
	</p>
	<div animation-create="fadeInDown" ng-if="showDetails" class="details">
		<i class="fa fa-ellipsis-v option-button" ng-class="{'fa-rotate-90': showOptions}" ng-click="showOptions = !showOptions; showDelete = false"></i>
		<p ng-show="expense.lastOccurrence != null">Last payment: <span>{{ expense.lastOccurrence | date}}</span></p>
		<p>Next payment: <span>{{ expense.nextOccurrence | date}}</span></p>
		
		<!--  options -->
		<div animation-create="fadeInDown" class="options" ng-show="showOptions">
			<p animation-create="fadeInDown" class="delete"  ng-show="!showDelete" ng-click="showDelete = !showDelete">Delete</p>
			
			<p animation-create="fadeInDown" ng-show="showDelete">Are you sure ? <small>This won't delete the previous expenses generated by this recurring expense.</small></p>
			<p animation-create="fadeInDown" ng-show="showDelete" class="confirmation"><span ng-click="showDelete = false" class="cancel">Cancel</span><span ng-click="$parent.$parent.deleteRecurring(expense)" class="delete">OK</span>
		</div>
		
	</div>
</div>
	
